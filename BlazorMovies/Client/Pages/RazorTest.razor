@page "/razortest"
@inject IMovieRepository movieRepository 

<h3>All Movies</h3>

<MovieList Movies="movies">
    <NullTemplate>
        Loading movie content...
    </NullTemplate>
    <EmptyTemplate>
        <text>The are no movies to be displayed...</text>
    </EmptyTemplate>
</MovieList>

@code {

    IList<Movie> movies;

    protected async override Task OnInitializedAsync()
    {

        await Task.Delay(5000);
        movies = GetMovies();
    }

    IList<Movie> GetMovies()
    {
        return movieRepository.FindAll();
    }

}

